# 3. ログイン画面：V000010

## 3.1. 概要

システムを利用するための認証（ログイン）を行う。 

ユーザーIDとパスワードを入力し、「ログイン」ボタンを押下する。

## 3.2.   画面レイアウト

<img src="/Users/tsujikoudai/Desktop/スクリーン ショット 2025-10-27 に 12.17.14 午後.png" alt="ログイン画面レイアウト" width="50%" />

## 3.3. 画面項目一覧

## 3.1. 画面項目

 **凡例** ：

*  **【種別】**    A:リンク，B:ボタン，C:チェックボックス，D:カレンダ，L:ドロップダウンリスト，R:ラジオボタン，    S:ラベル， T:テキストボックス，U:テキストエリア，F:ファイル選択，I:画像，O:その他(備考に記載) 
*  **【属性】**    D:日付，F:全角，H:半角，M:全角半角混在，N:数値

| No.. | 画面項目名     | 種別 | I/O  | 必須 | 属性 | 桁数 | API名 | 項目名 | 初期値 | 備考 |
| ---- | -------------- | ---- | ---- | ---- | ---- | ---- | ----- | ------ | ------ | ---- |
| 1    | システムロゴ   | I    | -    | -    | -    | -    | -     | -      | -      | -    |
| 2    | タイトル       | S    | -    | -    | -    | -    | -     | -      | -      | -    |
| 3    | 案内テキスト   | S    | -    | -    | -    | -    | -     | -      | -      | -    |
| 4    | メールアドレス | T    | I    | ○    | H    | 255  | -     | -      | -      | -    |
| 5    | パスワード     | T    | I    | ○    | M    | 64   | -     | -      | -      | -    |
| 6    | ログイン       | B    | -    | -    | -    | -    | -     | -      | -      | -    |
| 7    | パスワード変更 | A    | -    | -    | -    | -    | -     | -      | -      | -    |

<p style="text-align: center;"><strong>表 3‑1 ログイン画面項目一覧</strong></p>

## 3.2.画面アクション定義

| No.  | イベント名                             | アクションの処理詳細                     | 遷移先画面名称（ID）               |
| ---- | -------------------------------------- | ---------------------------------------- | ---------------------------------- |
| 1    | 「ログイン」クリック                   | ワンタイムパスワード認証画面に遷移する。 | OTP認証画面<br>（V000020）         |
| 2    | 「パスワードをお忘れですか？」クリック | パスワード変更画面に遷移する。           | パスワード変更画面<br/>（V000030） |

<p style="text-align: center;"><strong>表 3‑2 ログインアクション定義一覧</strong></p>

## 3.3. バリデーション・エラー処理

### 3.3.1. 入力項目バリデーション

| No   | 画面項目名     | チェック内容                    | エラーメッセージ                                  | チェックタイミング       |
| ---- | -------------- | ------------------------------- | ------------------------------------------------- | ------------------------ |
| 1    | メールアドレス | 必須チェック                    | 「メールアドレスを入力してください」              | 「ログイン」ボタン押下時 |
| 2    | メールアドレス | 桁数チェック<br>（255文字以内） | 「メールアドレスは255文字以内で入力してください」 | 「ログイン」ボタン押下時 |
| 3    | メールアドレス | 形式チェック                    | 「正しいメールアドレスの形式で入力してください」  | 「ログイン」ボタン押下時 |
| 4    | パスワード     | 必須チェック                    | 「パスワードを入力してください」                  | 「ログイン」ボタン押下時 |
| 5    | パスワード     | 桁数チェック<br>（64文字以内）  | 「パスワードは64文字以内で入力してください」      | 「ログイン」ボタン押下時 |

<p style="text-align: center;"><strong>表 3‑3 入力項目バリデーション一覧</strong></p>

### 3.3.2. 認証エラー処理

| No.  | エラー条件                                           | エラーメッセージ                                             | 処理内容                                                     | 備考                                               |
| ---- | ---------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------------------------- |
| 1    | 認証失敗<br>（メールアドレスまたはパスワードが誤り） | メールアドレスまたはパスワードが正しくありません」           | ・失敗回数をカウント<br/>・入力フィールドをクリア（またはパスワードのみクリア） | セキュリティのため、どちらが誤っているか特定しない |
| 2    | 連続ログイン失敗                                     | 「ログインに連続で失敗しました。アカウントがロックされました。しばらく時間をおいてから再度お試しください」 | ・アカウントを一時ロック（??分間）<br/>・ログに記録          | ロック時間は要件に応じて調整                       |
| 3    | アカウントロック中                                   | 「アカウントがロックされています。○○分後に再度お試しください」 | ・ログイン不可                                               | -                                                  |
| 4    | アカウント無効                                       | 「このアカウントは無効です。管理者にお問い合わせください」   | ・ログイン不可                                               | -                                                  |
| 5    | システムエラー                                       | 「システムエラーが発生しました。しばらく時間をおいてから再度お試しください」 | ・エラーログに記録<br/>・ユーザーには詳細を表示しない        | -                                                  |

### 3.3.3. エラー表示仕様

エラーメッセージは画面上部（タイトルと入力フォームの間）に表示する。 各エラーパターンの表示例を以下に示す。

[図3-X] エラー表示パターン一覧

**表示仕様**

- **表示位置**：画面上部（タイトルと入力フォームの間）
- **表示スタイル**：エラーメッセージボックス（赤色背景または赤色ボーダー）
- **複数エラー**：複数のバリデーションエラーがある場合は、リスト形式で全て表示
- **クリア条件**：再度「ログイン」ボタンを押下、または入力フィールドを修正した時点でクリア

