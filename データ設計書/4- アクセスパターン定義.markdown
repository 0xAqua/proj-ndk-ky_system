# 4. アクセスパターン定義

本章では、本システムで想定する主要なユースケースに対し、**どのキーで DynamoDB を引くか／どのインデックスを使うか／どの範囲で取得するか**を明示します。
 第3章で定義した3テーブル（`TenantMaster`, `UserMaster`, `ConstructionMaster`）を中心に、認証・入力画面表示・インシデント検索に必要な読み書きパターンを列挙します。

## 4-1. 前提

- すべてのアクセスは **テナント境界（tenant_id）を必ず条件に含める** ことを前提とします。
- 読み取りは原則として **Query（PK固定＋SK条件）** または **GetItem（PK+SK完全一致）** を用います。Scan は運用・管理ツールに限定します。
- ログインIDでのユーザー照会は、`UserMaster` に定義する **GSI（`login_id-index`）** を利用します。
- 階層マスタは `begins_with(nodePath, ...)` により子要素を段階的に取得します。